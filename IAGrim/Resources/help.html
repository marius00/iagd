<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <title>GD Item Assistant</title>
    <link href="vendor/bootstrap.min.css" rel="stylesheet">
    <script src="vendor/jquery-1.10.2.min.js"></script>
    <script src="vendor/bootstrap.min.js"></script>
    <script type="text/javascript" src="vendor/knockout-3.4.0.js"></script>
    <style>
        body {
            margin-left: 25%;
            margin-right: 25%;
            text-align: left;
        }

        .panel-body { min-height: 70px; }

        .panel-heading { font-weight: bold; }

        .linkbutton {
            cursor: pointer;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        .highlight { background-color: #fff000 !important; }
    </style>
</head>
<body>
<h1 class="logo header">GD Item Assistant</h1>

<p class="text-warning">
    DON'T PANIC! IT WILL BE OKAY.
</p>
<img src="static\flail.gif"/>

<br><br>
<div data-bind="foreach: questions, visible: !noCollapse()">
    <div class="panel panel-default">
        <div class="panel-heading linkbutton" data-bind="attr: {id: 'qh' + $index(), href: '#qc' + $index()}, aria-controls: 'qc' + $index()" role="tab" class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" aria-expanded="false">
            <h4 class="panel-title">
                <a data-bind="text: issue">
                    Question
                </a>
            </h4>
        </div>
        <div class="panel-collapse collapse" role="tabpanel" data-bind="attr: {aria_labelledby: 'qh' + $index(), id: 'qc' + $index()}">
            <div class="panel-body" data-bind="html: solution" class="answer-body">
                Answer
            </div>
        </div>
    </div>
</div>

<div data-bind="foreach: { data: questions, afterRender: postRender }, visible: noCollapse()">
    <div class="panel panel-default">
        <div class="panel-heading linkbutton collapsed" data-bind="attr: {id: name, name: name, href: '#qc' + $index()}, aria-controls: 'qc' + $index()" role="tab" role="button" data-toggle="collapse" data-parent="#accordion" aria-expanded="false">
            <h4 class="panel-title">
                <a data-bind="text: issue">
                    Question
                </a>
            </h4>
        </div>
        <div class="panel-collapse" role="tabpanel" data-bind="attr: {aria_labelledby: 'qh' + $index(), id: 'qc' + $index()}">
            <div class="panel-body" data-bind="html: solution">
                Answer
            </div>
        </div>
    </div>
</div>

<div id="questions" style="display: none">
    <div name="UnknownItem">
        <div>
            IA shows me "Unknown Item"!??
        </div>
        <div>
            <ol>
                <li>Open IA</li>
                <li>
                    <b>Close Grim Dawn</b>
                </li>
                <li>Click the "Mods" tab</li>
                <li>Select "Vanilla" (If you have Forgotten Gods, it will say that instead of Vanilla)</li>
                <li>Click "Load Database"</li>
            </ol>
        </div>
    </div>

    <div name="DuplicateItem">
        <div>
            IA says something about duplicate or bugged items
        </div>
        <div>
            Roughly around the launch of the AoM expansion, a bug was introduced into Grim Dawn.<br />
            Grim Dawn would write to the shared stash anytime it was modified, but when opening your stash, it would read the data from memory.<br />
            This bug was "fixed" around Christmas time. However, there is still a lingering issue where GD sometimes goes back to reading in-memory only.<br />
            The consequence of this, is that when IA deletes an item (because its been looted), then GD restores the item, effectively duplicating it. <br /><br />
            In order to prevent duplicate items being stored in IA (items created due to this bug), IA now refuses to loot items it identifies as bug-duplicated.<br />
            (A side effect of this is that IA also refuses to loot components, because they are the only <i>non-bugged</i> true duplicate items in the game)<br />
            <br />

            Basically, if you search in IA, you should always <a href="http://www.grimdawn.com/forums/showpost.php?p=723684&postcount=2073">find an item stored with the <b>exact same stats</b></a> as the item that IA is refusing to loot. <br />
            This is the original item, and the one in GD is the duplicated one.
        </div>
    </div>

    <div>
        <div>
            Help!? I've lost all my items!?!?!!
        </div>
        <div>
            <p class="text-warning">
                <b>DON'T PANIC! IT WILL BE OKAY.</b>
            </p>

            <br><br>
            IA takes daily backups of your items and keeps copies of the the previous 1000 stash files.<br>
            Most likely the wrong mod is selected or you just need to parse the GD database.<br><br>
            If you click Win+R at the same time, and then type: <u>%appdata%\..\local\evilsoft\iagd\backup</u> <br />
            That should show all of your previous 1000 stashes. Sort them by timestamp, fetch the newest, rename it to <u>transfer.gst</u> <br />
            And just copy it into your Grim Dawn save folder. <br />
            (Win is the Windows button on your keyboard)
        </div>
    </div>
    <div>
        <div>
            My item names are missing
        </div>
        <div>
            <ol>
                <li>Open IA</li>
                <li>Click the "Mods" tab</li>
                <li>Select "Vanilla" (or Forgotten Gods/AoM)</li>
                <li>Click "Load Database"</li>
                <li>Click "Update Item Stats"</li>
            </ol>
            <i>If this did not resolve your issue, try restarting IA.</i><br>
        </div>
    </div>
    <div>
        <div>
            My item are named funny stuff like gdxTag0134
        </div>
        <div>
            <ol>
                <li>Open IA</li>
                <li>Click the "Mods" tab</li>
                <li>Select "Vanilla & Expansion"</li>
                <li>Click "Load Database"</li>
                <li>Click "Update Item Stats"</li>
            </ol>
            <i>If this did not resolve your issue, try restarting IA.</i><br>
        </div>
    </div>

    <div name="NotLootingUnidentified">
        <div>
            IA says my items are unidentified??
        </div>
        <div>
            Sorry, not had the time to write this into the FAQ yet.<br />
            But the short answer is, go to database/mods, and load the database.
        </div>
    </div>
    <div>
        <div>
            My icons are missing!
        </div>
        <div>
            <ol>
                <li>Open IA</li>
                <li>
                    <b>Close Grim Dawn</b>
                </li>
                <li>Click the "Mods" tab</li>
                <li>Select the install</li>
                <li>Click "Load Database"</li>
            </ol>
            IA will also attempt to load icons when starting up.
        </div>
    </div>

    <div>
        <div>
            Which version am I running?
        </div>
        <div>
            <ol>
                <li>Click log</li>
                <li>Scroll up to the top</li>
                <li>On roughly the 4th line you'll see:</li>
                <li>Running version 1.2.6503.41798 from 21.10.2017</li>
            </ol>
        </div>
    </div>


    <div>
        <div>
            Will IA give me back exactly the same item, with the same stats?
        </div>
        <div>
            Yes, yes and yes.<br>
            IA will never modify any of your items, and will always reproduce them <u>exactly</u> as it found them.<br>
            Even if merging items is enabled, your items will remain unchanged. <br>
            <b>Always.</b>
        </div>
    </div>


<div name="MultiplePcs">
    <div>
        What does it mean to use IA on multiple PCs?
    </div>
    <div>
        If you have online backups enabled via the email login (backup tab)<br />
        Then IA can synchronize your items between installs, if you're playing GD on two different computers.<br/>
        IA will not synchronize your characters, only your items.<br/>
        The checkbox essentially trades bandwidth usage for more frequent updates.
    </div>
</div>


<div name="DeleteDuplicates">
    <div>
        What does it mean for IA to delete duplicates?
    </div>
    <div>
        For a detailed description of what a "duplicate" item is, see the entries on "bugged or duplicate items".<br/>
        <b>The short version is:</b> IA has already looted the item, but a copy remains in-game. You only found one, but you now have two of the exact same item.<br/>
        These are not items which happens to have the same stats, they are duplicates which were created due to a bug.<br/><br/>
        Enabling this option will cause IA to simply delete them, instead of just warning you and refuse to loot them.
    </div>
</div>

    <div>
        <div>
            I can't find my items!
        </div>
        <div>
            <ol>
                <li>Restart IA</li>
                <li>Make sure you've selected the right mod (upper right corner, most likely Vanilla)</li>
            </ol>
            IA may not be able to detect mod/etc settings on the very first run, but should get caught up pretty quickly after a restart. <br />
        </div>
    </div>

    <div>
        <div>
            IA is not looting any items
        </div>
        <div>
            <ol>
                <li>Place items in your stash</li>
                <li>Walk away from your stash area</li>
                <li>IA should now have looted these items</li>
                <li>The status bar in IA should indicate it just looted some items</li>
            </ol>
            <b>If this did not resolve your issue, please try running IA as administrator.<br></b>
            In some cases IA requires aditional permissions to run properly.
            <br>
        </div>
    </div>
    <div>
        <div>
            How do I find my log files?
        </div>
        <div>
            <ol>
                <li>Click the "Settings" tab</li>
                <li>Click "View Logs"</li>
                <li>The most recent log is "log.txt"</li>
            </ol>
        </div>
    </div>
    <div name="BackupAutodetectDisabled">
        <div>
            Why is dropbox/onedrive/gdrive backups disabled?
        </div>
        <div>
            Item Assistant does not have any direct integration with these services. <br />
            The way IA creates backups to say Dropbox is by detecting the installation folder, and placing a zip file there with the daily backup.<br />
            The same can be achieved by choosing "custom" and simply navigating to the folder of your cloud provider.<br /><br />
            If the icon is disabled, it means IA was not able to automatically detect where you have the cloud sync installed, and you will have to enable it manually via custom backups.
        </div>
    </div>

    <div>
        <div>
            IA loots items but I can't see find them in IA
        </div>
        <div>
            <b>Most likely you have the wrong <u>mod</u> selected.<br></b>
            See the Mod selection in the upper right corner (Vanilla, Vanilla (HC), SomeMod, ...)<br>
            <br>
            If this is the first time you're using IA and have just looted items, try restarting IA.<br>
            IA may take a restart to detect mods and stashes after looting its very first item.
        </div>
    </div>

    <div>
        <div>
            How do i restore a transfer stash? (lost items from tab1 / tab2 for example)
        </div>
        <div>
            <ol>
                <li>Close Grim Dawn (or at least go to the main menu)</li>
                <li>In IA go to settings</li>
                <li>Click "View Logs"</li>
                <li>Enter the "backup" folder</li>
                <li>You're looking for a file named transfer-something, look at the timestamps to find the correct one</li>
                <li>Once you think you've found the correct transfer copy, go to "my documents"\"my games"\"grim dawn"\"save"</li>
                <li>Find transfer.gst and rename it to transfer-renamed.gst</li>
                <li>Copy the transfer file from the backup folder into the save\ folder</li>
                <li>Rename the copied file to "transfer.gst"</li>
                <li>Open Grim dawn and go pick up your items from the stash</li>
                <li>Close grim dawn</li>
                <li>Delete the copied file, and rename the transfer-renamed.gst to transfer.gst to restore your stash</li>
            </ol>

            IA keeps the last 1000 copies of your transfer stash, so you may need to guess which file you need based on the timestamp.
            <br>
            Remember: only you know when this happened.
        </div>
    </div>

    <div name="CloudSavesEnabled">
        <div>
            IA says cloud saving is enabled
        </div>
        <div>
            This is by far the most common issue in IA.<br>
            <br>
            Cloud saving have to be disabled in <u>two</u> locations.
            <br>
            <ol>
                <li>In steam</li>
                <li>Inside Grim Dawn itself, under "Settings"</li>
            </ol>

            Grim Dawn uses a different save directory with cloud saving disabled.<br>
            After disabling cloud saving you still need to copy your characters to the correct directory.<br>
            <br>
            For more information on cloud saving, see
            <b>
                <u>http://www.grimdawn.com/forums/showthread.php?t=20752</u>
            </b>
        </div>
    </div>
    <div>
        <div>
            How do I backup my items?
        </div>
        <div>
            <b>IA can automatically backup your items to your favorite cloud provider, or to a custom folder (for example on your desktop or a USB stick)<br></b>
            <br>
            To backup your items to a custom folder:<br>

            <ol>
                <li>Click the checkbox next to the "Custom" button</li>
                <li>Click "Custom" button to select the folder</li>
                <li>Click "Backup Now" to create the backup immediately</li>
            </ol>
            The backup will also include your Grim Dawn characters and stash files.

            <br><br><br>
            <b>If you just want to quickly move your items to another computer:</b>
            <ol>
                <li>Click the "Settings" tab</li>
                <li>Click "View Logs"</li>
                <li>Go into "data"</li>
                <li>Copy "userdata.db"</li>
            </ol>
        </div>
    </div>

    <div name="RestoreBackup">
        <div>
            How do I restore from a backup?
        </div>
        <div>
            <b>There are two ways you may have backed up IA:</b><br>
            <br>
            <b>If you backed up IA via cloud backups or to a custom folder:</b><br>

            <ol>
                <li>Unzip the <i>export.ias</i> file from your backup</li>
                <li>Open IA</li>
                <li>Click the "Settings" tab</li>
                <li>Click "Import/Export"</li>
                <li>Import / IAS</li>
                <li>Import the export.ias file</li>
            </ol>
            You will also find your Grim Dawn characters under the 'save' directory in the backup file.<br>
            <br>
            <b>If you backed up IA manually just copying <i>userdata.db</i></b><br>
            <ol>
                <li>Open IA</li>
                <li>Click the "Settings" tab</li>
                <li>Click "View Logs"</li>
                <li>Enter the "data" folder</li>
                <li>
                    <b>Close IA</b>
                </li>
                <li>Copy <i>"userdata.db" into the data folder</i></li>
            </ol>
        </div>
    </div>

    <div name="Avasted">
        <div>
            Item Assistant says some files are missing, and that Avast may be to blame!?
        </div>
        <div>
            The way Item Assistant detects if your stash is open or closed, is by injecting code into Grim Dawn.<br />
            Some super paranoid anti virus / anti malware programs tends to handle this by simply deleting Item Assistant.<br />
            They never tell you, so you never realize what the cause is.<br /><br />
            The main culprit here is Avast, but other anti virus programs has been known to sometimes freak out as well. <br />
            The only way to notice is by going into the logs of the anti virus and see that it has interferred without notifying you.<br /><br />
            In order to continue using IA, you must whitelist it in whatever god forsaken anti virus program you're using, and then completely reinstall IA.<br />
            If you are reading this message, your "anti" virus program has already wiped out half the things IA needs to keep working properly.<br /><br />
            Good luck, don't blame me. The problem is not IA.
        </div>
    </div>

<div>
    <div>
        Everything is messed up after restoring from a backup!
    </div>
    <div>
        <p class="text-warning">
            <b>DON'T PANIC! IT WILL BE OKAY.</b>
        </p>
        <ol>
            <li>Open IA</li>
            <li>Click the "Mods" tab</li>
            <li>Select "Vanilla"</li>
            <li>Click "Load Database"</li>
        </ol>
        <i>If this did not resolve your issue, try restarting IA.</i><br>
    </div>
</div>

<div name="SoftcoreToHardcore">
    <div>
        Can I move items from Hardcore to Softcore? (or vice versa)
    </div>
    <div>
        By default this is not enabled, however, if you enable the "Transfer to any mod", it is possible to transfer items anywhere you'd like.
    </div>
</div>



<div name="SecureTransfers">
        <div>
            Settings: Whare are secure transfers?
        </div>
        <div>
            <b>Disabling the <i>Secure Transfers</i> option lets IA transfer items even when the stash status is open or unknown</b><br>
            This is an override provided for extreme cases where IA cannot detect the Grim Dawn stash status.<br><br>
            If secure transfers is disabled, <u>it is up to the user to make sure the stash is closed</u>, or risk losing items during transfer.<br><br>
            <font color="red">This is an emergency option only.</font>
        </div>
    </div>

    <div name="TransferToAnyMod">
        <div>
            Settings: What is transfer to any mod?
        </div>
        <div>
            <b>Transfer to any mod lets you transfer items between the regular campaign and your mods.</b><br>
            This is not enabled by default, as it could be considered cheating by some.
        </div>
    </div>


    <div name="ShowRecipesAsItems">
        <div>
            Settings: What is show recipes as items?
        </div>
        <div>
            <b>Show recipes as items will include your recipes when searching for items</b><br>
            Some players are more interested in what is available, in both items and what they can make<br>
            And this option lets them see craftable items as well as their own.
        </div>
    </div>

    <div name="ShowAugmentsAsItems">
        <div>
            Settings: What is show augments as items?
        </div>
        <div>
            <b>Show augments as items will include purchaseable augments when searching for items</b><br>
            Some players are more interested in what is available, in both items and what they can purchase
        </div>
    </div>

    <div name="BuddyItems">
        <div>
            Settings: What is buddy items?
        </div>
        <div>
            Buddy items lets you see all of your friends items.<br>
            This can be useful if you're playing with a friend / spouse / etc <br>
            As you can both search and see the items the other person has.
        </div>
    </div>
    <div name="CannotFindGrimdawn">
        <div>
            Cannot find the Grim Dawn installation
        </div>
        <div>
            IA will automatically attempt to detect Grim Dawn the following ways:

            <ul>
                <li>By checking if Grim Dawn is currently running</li>
                <li>By reading the steam config</li>
                <li>By reading the registry</li>
                <li>By looking for GOG Galaxy</li>
            </ul>
            <b>The easiest way to get IA to detect Grim Dawn, is to simply start the game while IA is running.</b>
        </div>
    </div>

</div>

<script>
    var numRendered = 0;
    var q = false;
    try {
        q = new URL(window.location.href).searchParams.get("q");
    } catch (err) {
    }

    function _VM() {
        var self = this;
        this.questions = ko.observableArray([{ issue: '', solution: '', name: Math.random().toString() },]);
        this.noCollapse = ko.observable(q ? true : false);
        this.postRender = function() {
            numRendered++;
            if (numRendered === $('#questions').children().length) {
                console.log('Done rendering');
                // Check if this was a direct link to a question
                if (q) {
                    setTimeout(function() {

                            $('html,body').animate({ scrollTop: $('[name=' + q + ']').offset().top }, 1);
                            $('[name=' + q + ']').addClass('highlight');
                        },
                        50);

                }
            }
        }
    }

    var VM = new _VM();
    $(document).ready(function() {
        ko.applyBindings(VM);
        var data = []
        var questions = $('#questions').children();
        for (var i = 0; i < questions.length; i++) {
            var question = $(questions[i]).children(':nth-child(1)').text();
            var answer = $(questions[i]).children(':nth-child(2)').html();
            var name = $(questions[i]).attr('name') || 'qh' + Math.random().toString();
            data.push({ issue: question, solution: answer, name: name });
        }
        VM.questions(data);


    });
</script>
<!--
<div class="panel panel-default">
    <div class="panel-heading linkbutton" role="tab" id="qh01" class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#qc01" aria-expanded="false" aria-controls="qc01">
        <h4 class="panel-title">
            <a>
                My item icons are missing
            </a>
        </h4>
    </div>
    <div id="qc01" class="panel-collapse collapse" role="tabpanel" aria-labelledby="qh01">
        <div class="panel-body">
            Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.
        </div>
    </div>
</div>-->
</body>
</html>